<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>controle</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   
 <link rel="stylesheet" href="saldo.css">
</head>
<body>
    <header>
        <h4>.</h4>
        <h5>  SimpleTech </h5>
      
        <div id="divb">
          <span class="material-symbols-outlined" id="burger">☰</span>
          <div class="menu" id="menu">

            <div class="duvida" onclick="window.location.href = 'inicio.html';">
              <p id="pagina">Pagina inicial</p>
          </div>
          
           <div class="duvidas" onclick="window.location.href = 'tutorial.html'">
             <p> como usar o SIMPLE ATM </p>
            </div>
            <div class="duvidas" onclick="window.location.href='index.html'">
              <P> Ir para o caixa eletrônico</P>
            </div>
         <div class="duvidas" onclick="window.location.href='sobrenos.html'">
          <p> Sobre nos </p>
         </div>
     
          <div class="duvidas" onclick="window.location.href='faq.html'">
            <p >FAQ</p>
          </div>
          </div>
      
        </div>
        <div id="logo">
        
        </div>
      
      </header>

 <div id="cima">
    <div id="MINICAIXA">
        <h6>
            SIMPLE ATM
        </h6>
    </div>
    
 </div>

 <div id="caixa">
    <button id="b1" type="button" class="botao"></button>
    <div>
        <button id="b2" type="button" class="botao"></button>
    </div>
    <div>
        <button id="b3" type="button" class="botao"  onclick="window.location.href='sacar.html'"></button>

    <div>
        <button id="b4" type="button" class="botao"></button>
    </div>
    
    <div id="bb5">
        <button id="b5" type="button"  class="botao"></button>
    </div>
    <div>
        <button id="b6" type="button"  class="botao"></button>
    </div>
    <div>
        <button id="b7" type="button" class="botao"  ></button>
    </div>
    <div>
        <button id="b8" type="button" class="botao" onclick="window.location.href='outrovalor.html'"></button>
    </div>
    <div id="re"></div>


    </div>
 </div>

 

 <div id="tela">
    <p id="me">
        insira sua senha para prosseguir com o saldo
    </p>
    <div class="input-container" id="sen">
        <input id="campo-senha" type="password" placeholder="Digite sua senha" maxlength="4">
        <span id="togglePassword" onclick="togglePasswordVisibility()">
    <i id="eyeIcon" class="fas fa-eye-slash"></i>
</span>
<div id="mensagem"></div>

<p id="saldo-disponivel" style="display: none;"></p>

    </div>
</div>

<div id="trar">
    <button id="entrar" type="button" class="botao" >ENTRAR
        <div id="cor"></div>
    </button>
</div>

    
</div>



 <div id="teclado">
    <div>
        <button id="t1" type="button" class="botao">1</button>
    </div>
    <div>
        <button id="t2" type="button" class="botao">4</button>
    </div>
    <div>
        <button id="t3" type="button"  class="botao">7</button>
    </div>
    <div id="tt4">
        <button  id="t4" type="button"  class="botao">2</button>
    </div>
    <div>
        <button id="t5" type="button"  class="botao">5</button>
    </div>
    <div>
        <button id="t6" type="button"  class="botao">8</button>
    </div>
    <div id="tt7">
        <button id="t7" type="button"  class="botao" >3</button>
    </div>
    <div id="tt8">
        <button id="t8" type="button"  class="botao">6</button>
    </div>
    <div>
        <button id="t9" type="button"  class="botao">9</button>
    </div>
    <div id="tt10">
        <button id="t10" type="button"  class="botao"></button>
    </div>
    <div id="tt11">
        <button id="t11" type="button"  class="botao">0</button>
    </div>
    <div id="tt12">
        <button id="t12" type="button"  class="botao">+</button>
    </div>
    <div id="pg">
        <button id="apagar" type="button"  class="botao">APAGAR
            <div id="cor2"></div>
        </button>
    </div>
    <div>
        <button id="cancelar" type="button" class="botao" onclick="window.location.href='index.html'">CANCELAR
            <div id="cor3"></div>
        </button>
    </div>
 </div>
    
</body>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const burgerIcon = document.getElementById('burger');
        const menu = document.getElementById('menu');

        burgerIcon.addEventListener('click', function(event) {
            event.stopPropagation();
            toggleMenu();
        });

        document.addEventListener('click', function(event) {
            if (!menu.contains(event.target) && menu.style.display === 'block') {
                menu.style.display = 'none';
            }
        });

        function toggleMenu() {
            if (menu.style.display === 'block') {
                menu.style.display = 'none';
            } else {
                menu.style.display = 'block';
            }
        }

        function changeColor(event, color) {
            var buttons = document.getElementsByClassName('botao');
            for (var i = 0; i < buttons.length; i++) {
                buttons[i].style.backgroundColor = '';
            }
           
        }

        var buttons = document.getElementsByClassName('botao');
        for (var i = 0; i < buttons.length; i++) {
            buttons[i].addEventListener('click', function(event) {
           
            });
        }

        const entrarButton = document.getElementById('entrar');
    const numeroContaInput = document.getElementById('numeroConta');
    const mensagemElement = document.getElementById('mensagem');
    

    entrarButton.addEventListener('click', function() {
        let numeroContaDigitado = numeroContaInput.value;

        fetch(`/api/verificar-conta?numeroConta=${numeroContaDigitado}`)
            .then(response => response.text())
            .then(data => {
                if (data === "Conta válida") {
                    console.log("Conta válida");
                    // Redirecionar para outra página
                    window.location.href = "opcoes.html";
                } else {
                    console.log('%cEsta é uma mensagem de console estilizada', 'color: white; font-size: 20px;');

        

                    // Exibir mensagem de erro para o usuário
                    mensagemElement.innerText = "Número da conta inválido";
                }
            })
            .catch(error => {
                console.error("Erro ao verificar a conta:", error);
            });
    });
});
document.addEventListener('DOMContentLoaded', function() {
    
    const mensagemElement = document.getElementById('mensagem');
    const campoSenha = document.getElementById('campo-senha'); 
    const entrarButton = document.getElementById('entrar');

    entrarButton.addEventListener('click', function() {
        const senha = campoSenha.value;
        const valorSaque = 20; // Valor do saque ajustado para 20 reais

        if (senha.trim() === '') {
            mensagemElement.innerText = "Por favor, digite sua senha.";
            return;
        }

        fetch('/api/saque', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded', // Ajuste o tipo de conteúdo conforme necessário
            },
            body: `senha=${senha}&valor=${valorSaque}`, // Envie a senha e o valor do saque como parâmetros
        })
        .then(response => {
            if (response.ok) {
                return response.text();
            } else {
                throw new Error('Erro ao realizar o saque. Por favor, tente novamente.');
            }
        })
        
        .catch(error => {
            console.error('Erro:', error);
            mensagemElement.innerText = 'Erro ao realizar o saque. Por favor, tente novamente';
        });
    });
});


// Selecionar o botão "apagar" e o campo de senha
const botaoApagar = document.getElementById('apagar');
const campoSenha = document.getElementById('campo-senha');

// Adicionar um evento de clique ao botão "apagar"
botaoApagar.addEventListener('click', function() {
    // Limpar o campo de senha
    campoSenha.value = '';
});
function togglePasswordVisibility() {
            // Seleciona o campo de entrada de senha e o ícone de olho
            const campoSenha = document.getElementById('campo-senha');
            const eyeIcon = document.getElementById('eyeIcon');

            // Verifica o tipo atual do campo de entrada de senha
            if (campoSenha.type === 'password') {
                // Se for 'password', mude para 'text' para mostrar a senha
                campoSenha.type = 'text';
                // Altere o ícone para 'fa-eye' para indicar que a senha está visível
                eyeIcon.classList.remove('fa-eye-slash');
                eyeIcon.classList.add('fa-eye');
            } else {
                // Se for 'text', mude para 'password' para ocultar a senha
                campoSenha.type = 'password';
                // Altere o ícone para 'fa-eye-slash' para indicar que a senha está oculta
                eyeIcon.classList.remove('fa-eye');
                eyeIcon.classList.add('fa-eye-slash');
            }
        }

        document.getElementById("entrar").addEventListener("click", function() {
    // Obtém o valor digitado no campo de senha
    const senha = document.getElementById("campo-senha").value;
   

    // Verifica se a senha está correta
    if (senha === "0376") { // Substitua "0376" pela sua senha correta
        // Exibe a mensagem de saldo disponível
        const saldoDisponivel = document.getElementById("saldo-disponivel");
        saldoDisponivel.textContent = "Saldo disponível: R$ 1000,00"; // Substitua pelo saldo real
        saldoDisponivel.style.display = "block"; // Exibe a mensagem de saldo disponível

        // Aguarda 5 segundos antes de redirecionar para a página DEPOSITO.HTML
        setTimeout(function() {
            window.location.href = "SAconcluido.html";
        }, 5000);
    } else {
        // Exibe a mensagem de erro
        const mensagemErro = document.getElementById("mensagem-erro");
        mensagemErro.textContent = "Senha incorreta. Tente novamente.";
        mensagemErro.style.display = "block"; // Exibe a mensagem de erro

        // Oculta a mensagem de saldo disponível
        document.getElementById("saldo-disponivel").style.display = "none";
    }
});






</script>


</html>
